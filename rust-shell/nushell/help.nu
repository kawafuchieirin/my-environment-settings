# =============================================================================
# help.nu - ヘルプコマンド
# =============================================================================

def help [] {
    print r#'
╔══════════════════════════════════════════════════════════════════════════════╗
║                         Rust Shell ヘルプ                                     ║
╚══════════════════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────────────────┐
│ エイリアス                                                                    │
└─────────────────────────────────────────────────────────────────────────────┘
  ll              ls -l（詳細表示）
  la              ls -a（隠しファイル表示）
  lla             ls -la（詳細 + 隠しファイル）
  cat             bat（シンタックスハイライト付き）
  grep            rg（ripgrep）
  ff              fd（ファイル検索）
  top             btop（リソースモニター）
  vim / vi        hx（Helixエディタ）
  c               clear（画面クリア）
  h               history（履歴表示）
  x               exit（終了）

┌─────────────────────────────────────────────────────────────────────────────┐
│ Git コマンド                                                                  │
└─────────────────────────────────────────────────────────────────────────────┘
  g               git
  gs              git status
  ga              git add
  gc              git commit
  gp              git push
  gd              git diff
  gl              git log --oneline --graph
  lg              lazygit（GUI風Git操作）
  groot           Gitリポジトリのルートに移動

┌─────────────────────────────────────────────────────────────────────────────┐
│ Python                                                                        │
└─────────────────────────────────────────────────────────────────────────────┘
  py              python
  py3             python3
  venv            python -m venv（仮想環境作成）
  activate        仮想環境を有効化（.venv）

┌─────────────────────────────────────────────────────────────────────────────┐
│ ディレクトリ移動                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
  z <パス>        履歴ベースのスマートcd（zoxide）
  zi              インタラクティブにディレクトリ選択
  skcd            ファジー検索でディレクトリ移動（skim）
  mkcd <dir>      ディレクトリ作成して移動
  groot           Gitリポジトリのルートに移動

┌─────────────────────────────────────────────────────────────────────────────┐
│ 検索                                                                         │
└─────────────────────────────────────────────────────────────────────────────┘
  rg <pattern>    高速テキスト検索（ripgrep）
  fd <pattern>    高速ファイル検索
  sk              ファジーファインダー（skim）
  skhist          コマンド履歴をファジー検索

┌─────────────────────────────────────────────────────────────────────────────┐
│ ネットワーク                                                                  │
└─────────────────────────────────────────────────────────────────────────────┘
  ip              グローバルIP表示
  localip         ローカルIP表示
  ports           使用中ポート一覧

┌─────────────────────────────────────────────────────────────────────────────┐
│ その他便利コマンド                                                            │
└─────────────────────────────────────────────────────────────────────────────┘
  cpwd            カレントパスをクリップボードにコピー
  duh             ディレクトリサイズ表示
  duf             ディスク使用量表示
  weather [都市]  天気表示（デフォルト: Tokyo）
  timer [秒]      タイマー（デフォルト: 60秒）
  cheat <cmd>     コマンドのヘルプ表示（cheat.sh）
  extract <file>  圧縮ファイルを自動展開
  tl              tldr（コマンドの使い方を簡潔に表示）
  j               jq（JSONパーサー）
  pbp / pbc       クリップボード（ペースト/コピー）

┌─────────────────────────────────────────────────────────────────────────────┐
│ パイプ用コマンド                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
  | G <pattern>   grep（例: ls | G txt）
  | H [n]         head（例: ls | H 5）
  | T [n]         tail（例: ls | T 5）
  | C             count（例: ls | C）
  | J [key]       jq（例: open file.json | J data）

┌─────────────────────────────────────────────────────────────────────────────┐
│ Nushell 基本操作                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
  ls | where size > 1mb       ファイルをフィルタリング
  open file.json              JSON/YAML/TOMLを構造化データとして開く
  open file.json | get key    特定のキーを取得
  ls | to json                テーブルをJSONに変換
  http get <url>              HTTPリクエスト
  history | where command =~ "git"    履歴を検索

┌─────────────────────────────────────────────────────────────────────────────┐
│ カテゴリ別ヘルプ                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
  help-keys       キーボードショートカット
  help-helix      Helixエディタの操作
  help-wezterm    WezTermのショートカット
  help-all        全てのヘルプを表示

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
詳細: rust-shell/README.md
'#
}

def help-keys [] {
    print r#'
╔═══════════════════════════════════════════════════════════════╗
║                 キーボードショートカット ヘルプ                 ║
╚═══════════════════════════════════════════════════════════════╝

【Nushell - Viモード】
  Esc             ノーマルモードに切り替え
  i               挿入モード（カーソル前）
  a               挿入モード（カーソル後）
  w / b           単語単位で移動
  0 / $           行頭 / 行末に移動
  dd              行を削除
  yy              行をコピー
  p               ペースト
  u               元に戻す
  /               検索

【Nushell - 共通】
  Ctrl + R        履歴検索
  Ctrl + C        コマンド中断
  Ctrl + D        終了
  Ctrl + L        画面クリア
  Tab             補完
'#
}

def help-helix [] {
    print r#'
╔═══════════════════════════════════════════════════════════════╗
║                   Helix エディタ ヘルプ                        ║
╚═══════════════════════════════════════════════════════════════╝

【起動】
  hx <file>       ファイルを開く
  hx .            カレントディレクトリを開く

【基本操作（ノーマルモード）】
  i / a           挿入モード（カーソル前/後）
  o / O           下/上に新しい行を追加して挿入モード
  Esc             ノーマルモードに戻る
  w / b           次/前の単語へ移動
  gg / ge         ファイル先頭/末尾へ
  x               行を選択
  d               選択範囲を削除
  y               選択範囲をコピー
  p               ペースト
  u / U           元に戻す / やり直し
  / / n / N       検索 / 次 / 前

【Spaceメニュー（Spaceキーを押す）】
  Space + f       ファイルピッカー
  Space + b       バッファピッカー
  Space + s       シンボルピッカー
  Space + w + v   縦分割
  Space + w + s   横分割
  Space + w + q   ウィンドウを閉じる

【LSP操作】
  gd              定義へジャンプ
  gr              参照を表示
  Space + l + r   リネーム
  Space + l + a   コードアクション

【保存・終了】
  Ctrl + s        保存
  Ctrl + q        終了
  :w / :q / :wq   保存 / 終了 / 保存して終了
'#
}

def help-wezterm [] {
    print r#'
╔═══════════════════════════════════════════════════════════════╗
║                  WezTerm ショートカット ヘルプ                  ║
╚═══════════════════════════════════════════════════════════════╝

【タブ操作】
  Cmd + T         新しいタブ
  Cmd + D         新しいタブ
  Cmd + W         タブを閉じる
  Cmd + ←/→       前/次のタブへ移動
  Cmd + 1-9       タブを番号で切り替え

【透明度調整】
  Ctrl + Cmd + ↑  透明度を上げる（不透明に）
  Ctrl + Cmd + ↓  透明度を下げる（透明に）
  Ctrl + Cmd + 0  透明度をリセット（92%）

【その他】
  Cmd + K         スクロールバッファをクリア
  Cmd + F         検索
  Cmd + +/-       フォントサイズ変更
  Cmd + 0         フォントサイズリセット
'#
}

def help-all [] {
    help
    print ""
    help-keys
    print ""
    help-helix
    print ""
    help-wezterm
}
